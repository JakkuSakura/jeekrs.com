---
title: 关于如何不利用额外硬件在U盘上安装kali+双引导
date: 2018-09-13 20:04:48
---
说下大体思路：

1. 利用VMWare，把U盘模拟成硬盘安装kali，启动模式最好是UEFI，U盘分区必须是是MBR（如果你需要双引导的话）。
1. 如果需要划分资料分区，正常划分即可。推荐U盘大小在32GB以上，预留至少10G的系统空间。
1. 把VMWare切换成BIOS引导模式，参考[archwiki上grub的界面](https://wiki.archlinux.org/index.php/GRUB_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87) "archwiki上grub的界面") 给U盘安装第二遍GRUB2，需要手动指定二进制文件的位置为EFI分区，安装GRUB2位置是主引导扇区。
1. 退出VMWare，在实体机上开机，安装完成。进行后续操作。

如此操作，两种引导方式可以并存，共享同一份配置文件。如果不利用VMWare的修改引导设置的功能，则无法安装另一引导方式的GRUB2。解决方法是利用其他设备，进入另一种引导方式（比如以此法安装好的U盘）

LEGECY BIOS方式启动的GRUB2，可以正常引导GRUB4DOS，经测试，WEIPE可以正常使用，按理说，其他PE也可以正常使用。某些设备上会花屏，可能因为WEIPE系统的兼容性不是非常好。

这个方法目前没有在其他网站上见到过，特此分享出来。
